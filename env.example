# Banker Venezuela - Environment Configuration
# Copy this file as .env and fill in your credentials
# NEVER commit your .env file to version control

# ============================================================================
# BANESCO CREDENTIALS (Hybrid: Playwright login + HTTP fetch)
# ============================================================================

# Your Banesco username (cedula without dots)
BANESCO_USERNAME=V12345678

# Your Banesco password
BANESCO_PASSWORD=your_password_here

# Security questions mapping (required for full login)
# Format: keyword1:answer1,keyword2:answer2
# The system will match keywords against question text (case-insensitive)
# Example: BANESCO_SECURITY_QUESTIONS=anime:Naruto,mascota:Firulais,color:azul
BANESCO_SECURITY_QUESTIONS=anime:Naruto,mascota:Firulais

# ============================================================================
# BNC CREDENTIALS (Pure HTTP - no browser needed)
# ============================================================================

# Your ID (cedula with V prefix)
BNC_ID=V12345678

# Your card number (16 digits)
BNC_CARD=1234567890123456

# Your BNC password
BNC_PASSWORD=your_password_here

# ============================================================================
# CONVEX (Required for local sync scripts)
# ============================================================================

# Convex deployment URL (get from npx convex dev)
CONVEX_URL=https://your-deployment.convex.cloud

# ============================================================================
# NOTION INTEGRATION (Bidirectional sync)
# ============================================================================

# Notion integration token (create at https://www.notion.so/my-integrations)
NOTION_API_TOKEN=secret_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Notion database IDs (get from the database URL)
# Format: https://www.notion.so/workspace/DATABASE_ID?v=...
NOTION_BANKS_DATABASE_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NOTION_TRANSACTIONS_DATABASE_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Movimientos database ID (ðŸ”„ Movimientos - for bidirectional sync)
# This is the primary Notion database for tracking bank movements
NOTION_MOVIMIENTOS_DATABASE_ID=275b0ba9732080b19134e0e36993ea8c

# Bank/Cartera Notion Page IDs (for Origen/Destino relations)
# These are hardcoded in notion_movimientos.ts but documented here for reference:
# - Banesco: 16db0ba9-7320-80f6-affb-da8ede3cc530
# - BNC: 2d8f7587-c8d0-4612-a1cc-092a60fb4b85

# Optional: Secret for manual sync trigger (for API protection)
# NOTION_SYNC_SECRET=your_secret_here

# ============================================================================
# OPTIONAL SETTINGS
# ============================================================================

# Timeout in milliseconds (default: 30000)
TIMEOUT=30000

# Enable debug logging for BNC HTTP client
# BNC_DEBUG=true

# ============================================================================
# USAGE
# ============================================================================

# 1. Copy this file: cp env.example .env
# 2. Fill in your credentials
# 3. Run examples:
#    npm run example:banesco          # Banesco (Playwright)
#    npm run example:banesco-hybrid   # Banesco (recommended hybrid mode)
#    npm run example:bnc              # BNC (pure HTTP, fast)
#
# Local sync to Convex (requires CONVEX_URL):
#    npm run sync                     # Sync Banesco to Convex
#    npm run sync:banesco             # Sync Banesco to Convex (alias)
#    npm run sync:bnc                 # Sync BNC to Convex (pure HTTP)
#
# Notion Movimientos sync (bidirectional):
#    Trigger from Convex dashboard or call triggerMovimientosSync action
#    - Pulls edits from Notion (matched by Referencia field)
#    - Pushes new/updated transactions from Convex to Notion
#
# Network capture (for HTTP flow analysis):
#    npm run capture:banesco
#    npm run capture:bnc
